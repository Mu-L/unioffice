//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package mscfb ;import (_d "bytes";_f "encoding/binary";_b "fmt";_g "github.com/richardlehane/msoleps/types";_bc "github.com/unidoc/unioffice/internal/mscfb/rw";_ag "io";_dd "os";_ae "strconv";_afe "time";_e "unicode";_af "unicode/utf16";);func (_gf *File )Seek (offset int64 ,whence int )(int64 ,error ){var _efb int64 ;
switch whence {default:return 0,Error {ErrSeek ,"\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0077h\u0065\u006e\u0063\u0065",int64 (whence )};case 0:_efb =offset ;case 1:_efb =_gf ._dfg +offset ;case 2:_efb =_gf .Size -offset ;};switch {case _efb < 0:return _gf ._dfg ,Error {ErrSeek ,"\u0063\u0061\u006e'\u0074\u0020\u0073\u0065e\u006b\u0020\u0062\u0065\u0066\u006f\u0072e\u0020\u0073\u0074\u0061\u0072\u0074\u0020\u006f\u0066\u0020\u0046\u0069\u006c\u0065",_efb };
case _efb >=_gf .Size :return _gf ._dfg ,Error {ErrSeek ,"c\u0061\u006e\u0027\u0074\u0020\u0073e\u0065\u006b\u0020\u0070\u0061\u0073\u0074\u0020\u0046i\u006c\u0065\u0020l\u0065n\u0067\u0074\u0068",_efb };case _efb ==_gf ._dfg :return _efb ,nil ;case _efb > _gf ._dfg :_deba :=_gf ._dfg ;
_gf ._dfg =_efb ;return _gf ._dfg ,_gf .seek (_efb -_deba );};if _gf ._ba >=_gf ._dfg -_efb {_gf ._ba =_gf ._ba -(_gf ._dfg -_efb );_gf ._dfg =_efb ;return _gf ._dfg ,nil ;};_gf ._ba =0;_gf ._fce =_gf ._cc ;_gf ._dfg =_efb ;return _gf ._dfg ,_gf .seek (_efb );
};func _bafa (_gcg ,_accd uint32 )int64 {return int64 ((_accd +1)*_gcg )};type Reader struct{_fea bool ;_efeb uint32 ;_fgd []byte ;_deec *header ;File []*File ;_fga []*File ;_dbeb int ;_dafe _ag .ReaderAt ;_agb _ag .WriterAt ;};func (_cgf *File )seek (_ddb int64 )error {var _eca bool ;
var _dfga int64 ;if _cgf .Size < _dbe {_eca =true ;_dfga =64;}else {_dfga =int64 (_cgf ._dde ._efeb );};var _daaf int64 ;var _gdf error ;if _cgf ._ba > 0{if _dfga -_cgf ._ba <=_ddb {_cgf ._fce ,_gdf =_cgf ._dde .findNext (_cgf ._fce ,_eca );if _gdf !=nil {return _gdf ;
};_daaf +=_dfga -_cgf ._ba ;_cgf ._ba =0;if _daaf ==_ddb {return nil ;};}else {_cgf ._ba +=_ddb ;return nil ;};if _cgf ._fce ==_gcd {return Error {ErrRead ,"\u0075\u006ee\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0065\u0061\u0072\u006c\u0079\u0020\u0065\u006e\u0064\u0020\u006f\u0066\u0020\u0063ha\u0069\u006e",int64 (_cgf ._fce )};
};};for {if _ddb -_daaf < _dfga {_cgf ._ba =_ddb -_daaf ;return nil ;}else {_daaf +=_dfga ;_cgf ._fce ,_gdf =_cgf ._dde .findNext (_cgf ._fce ,_eca );if _gdf !=nil {return _gdf ;};if _daaf ==_ddb {return nil ;};};};};func (_egf *File )stream (_cdbb int )([][2]int64 ,error ){var _aad bool ;
var _bac int ;var _acb int64 ;if _egf .Size < _dbe {_aad =true ;_bac =_cdbb /int (_aab )+2;_acb =int64 (_aab );}else {_bac =_cdbb /int (_egf ._dde ._efeb )+2;_acb =int64 (_egf ._dde ._efeb );};_fab :=make ([][2]int64 ,0,_bac );var _ggc ,_cgee int ;if _egf ._ba > 0{_efgb ,_bda :=_egf ._dde .getOffset (_egf ._fce ,_aad );
if _bda !=nil {return nil ,_bda ;};if _acb -_egf ._ba >=int64 (_cdbb ){_fab =append (_fab ,[2]int64 {_efgb +_egf ._ba ,int64 (_cdbb )});}else {_fab =append (_fab ,[2]int64 {_efgb +_egf ._ba ,_acb -_egf ._ba });};if _acb -_egf ._ba <=int64 (_cdbb ){_egf ._fce ,_bda =_egf ._dde .findNext (_egf ._fce ,_aad );
if _bda !=nil {return nil ,_bda ;};_cgee +=int (_acb -_egf ._ba );_egf ._ba =0;}else {_egf ._ba +=int64 (_cdbb );};if _fab [0][1]==int64 (_cdbb ){return _fab ,nil ;};if _egf ._fce ==_gcd {return nil ,Error {ErrRead ,"\u0075\u006ee\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0065\u0061\u0072\u006c\u0079\u0020\u0065\u006e\u0064\u0020\u006f\u0066\u0020\u0063ha\u0069\u006e",int64 (_egf ._fce )};
};_ggc ++;};for {if _ggc >=cap (_fab ){return nil ,Error {ErrRead ,"\u0069\u006e\u0064\u0065x\u0020\u006f\u0076\u0065\u0072\u0072\u0075\u006e\u0073\u0020s\u0065c\u0074\u006f\u0072\u0020\u006c\u0065\u006eg\u0074\u0068",int64 (_ggc )};};_ffa ,_fbcf :=_egf ._dde .getOffset (_egf ._fce ,_aad );
if _fbcf !=nil {return nil ,_fbcf ;};if _cdbb -_cgee < int (_acb ){_fab =append (_fab ,[2]int64 {_ffa ,int64 (_cdbb -_cgee )});_egf ._ba =int64 (_cdbb -_cgee );return _edg (_fab ),nil ;}else {_fab =append (_fab ,[2]int64 {_ffa ,_acb });_cgee +=int (_acb );
_egf ._fce ,_fbcf =_egf ._dde .findNext (_egf ._fce ,_aad );if _fbcf !=nil {return nil ,_fbcf ;};if _cgee ==_cdbb {return _edg (_fab ),nil ;};};_ggc ++;};};func (_dagb *Reader )findNextFreeSector (_cea bool )(uint32 ,error ){_gbf :=_dagb .findFatLocsOffset (_cea );
_ddfe :=uint32 (0);_dbb :=_dagb ._efeb /4;for {_dcd ,_gada :=_dagb .readAt (_gbf ,4);if _gada !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_gada .Error ()+"\u0029",_gbf };
};_fdbd :=_f .LittleEndian .Uint32 (_dcd );if _fdbd ==_cgd {break ;};if _ddfe >=_dbb {return 0,Error {ErrRead ,"\u0065\u006e\u0064\u0020of\u0020\u006d\u0069\u006e\u0069\u0046\u0061\u0074\u0020\u0072\u0065\u0061\u0063\u0068e\u0064",_gbf };};_ddfe ++;_gbf +=4;
};return _ddfe ,nil ;};type header struct{*headerFields ;_adfg []uint32 ;_aed []uint32 ;_afee []uint32 ;};func (_fcc *File )Created ()_afe .Time {return _fcc ._cbb .Time ()};func (_fdb *Reader )findNext (_gad uint32 ,_ccc bool )(uint32 ,error ){_ggbfg :=_fdb ._efeb /4;
_dfaf :=int (_gad /_ggbfg );var _agd uint32 ;if _ccc {if _dfaf < 0||_dfaf >=len (_fdb ._deec ._aed ){return 0,Error {ErrRead ,"\u006d\u0069\u006e\u0069\u0073e\u0063\u0074\u006f\u0072\u0020\u0069\u006e\u0064\u0065\u0078\u0020\u0069\u0073 \u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u006d\u0069\u006e\u0069\u0046\u0041\u0054\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_dfaf )};
};_agd =_fdb ._deec ._aed [_dfaf ];}else {if _dfaf < 0||_dfaf >=len (_fdb ._deec ._adfg ){return 0,Error {ErrRead ,"\u0046\u0041\u0054\u0020\u0069\u006e\u0064\u0065\u0078\u0020\u0069\u0073\u0020\u006f\u0075t\u0073i\u0064\u0065\u0020\u0044\u0049\u0046\u0041\u0054\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_dfaf )};
};_agd =_fdb ._deec ._adfg [_dfaf ];};_gfg :=_gad %_ggbfg ;_afda :=_bafa (_fdb ._efeb ,_agd )+int64 (_gfg *4);_gec ,_deabe :=_fdb .readAt (_afda ,4);if _deabe !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_deabe .Error ()+"\u0029",_afda };
};_acfb :=_f .LittleEndian .Uint32 (_gec );return _acfb ,nil ;};func _aea (_ga []byte )*directoryEntryFields {_ddc :=&directoryEntryFields {};for _cdc :=range _ddc ._df {_ddc ._df [_cdc ]=_f .LittleEndian .Uint16 (_ga [_cdc *2:_cdc *2+2]);};_ddc ._ac =_f .LittleEndian .Uint16 (_ga [64:66]);
_ddc ._cd =uint8 (_ga [66]);_ddc ._de =uint8 (_ga [67]);_ddc ._fe =_f .LittleEndian .Uint32 (_ga [68:72]);_ddc ._cb =_f .LittleEndian .Uint32 (_ga [72:76]);_ddc ._cbg =_f .LittleEndian .Uint32 (_ga [76:80]);_ddc ._gc =_g .MustGuid (_ga [80:96]);copy (_ddc ._ef [:],_ga [96:100]);
_ddc ._cbb =_g .MustFileTime (_ga [100:108]);_ddc ._caf =_g .MustFileTime (_ga [108:116]);_ddc ._cc =_f .LittleEndian .Uint32 (_ga [116:120]);copy (_ddc ._fb [:],_ga [120:128]);return _ddc ;};func (_gaa *Reader )GetHeader ()*header {return _gaa ._deec };
func (_eab *File )ID ()string {return _eab ._gc .String ()};func (_fbc fileInfo )Size ()int64 {if _fbc ._cd !=_fc {return 0;};return _fbc .File .Size ;};func (_adb *Reader )Created ()_afe .Time {return _adb .File [0].Created ()};func _ddbf (_gdfg []byte )*headerFields {_bff :=&headerFields {};
_bff ._edea =_f .LittleEndian .Uint64 (_gdfg [:8]);_bff ._cga =_f .LittleEndian .Uint16 (_gdfg [24:26]);_bff ._fedc =_f .LittleEndian .Uint16 (_gdfg [26:28]);_bff ._fag =_f .LittleEndian .Uint16 (_gdfg [30:32]);_bff ._fec =_f .LittleEndian .Uint32 (_gdfg [40:44]);
_bff ._fdc =_f .LittleEndian .Uint32 (_gdfg [44:48]);_bff ._ffb =_f .LittleEndian .Uint32 (_gdfg [48:52]);_bff ._ege =_f .LittleEndian .Uint32 (_gdfg [60:64]);_bff ._gda =_f .LittleEndian .Uint32 (_gdfg [64:68]);_bff ._cfe =_f .LittleEndian .Uint32 (_gdfg [68:72]);
_bff ._acd =_f .LittleEndian .Uint32 (_gdfg [72:76]);var _gafa int ;for _bcc :=76;_bcc < 512;_bcc =_bcc +4{_bff ._dbfe [_gafa ]=_f .LittleEndian .Uint32 (_gdfg [_bcc :_bcc +4]);_gafa ++;};return _bff ;};func (_eaa *File )Modified ()_afe .Time {return _eaa ._caf .Time ()};
func (_bcf Error )Typ ()int {return _bcf ._ddec };type directoryEntryFields struct{_df [32]uint16 ;_ac uint16 ;_cd uint8 ;_de uint8 ;_fe uint32 ;_cb uint32 ;_cbg uint32 ;_gc _g .Guid ;_ef [4]byte ;_cbb _g .FileTime ;_caf _g .FileTime ;_cc uint32 ;_fb [8]byte ;
};func (_cbf *File )Write (b []byte )(int ,error ){if _cbf .Size < 1||_cbf ._dfg >=_cbf .Size {return 0,_ag .EOF ;};if _cfd :=_cbf .ensureWriterAt ();_cfd !=nil {return 0,_cfd ;};_dga :=len (b );if int64 (_dga )> _cbf .Size -_cbf ._dfg {_dga =int (_cbf .Size -_cbf ._dfg );
};_efg ,_agae :=_cbf .stream (_dga );if _agae !=nil {return 0,_agae ;};var _eeg ,_ccf int ;for _ ,_gca :=range _efg {_cca :=_eeg +int (_gca [1]);if _cca < _eeg ||_cca > _dga {return 0,Error {ErrWrite ,"\u0062\u0061d\u0020\u0077\u0072i\u0074\u0065\u0020\u006c\u0065\u006e\u0067\u0074\u0068",int64 (_cca )};
};_fcea ,_daa :=_cbf ._dde ._agb .WriteAt (b [_eeg :_cca ],_gca [0]);_ccf =_ccf +_fcea ;if _daa !=nil {_cbf ._dfg +=int64 (_ccf );return _ccf ,Error {ErrWrite ,"\u0075n\u0064\u0065\u0072\u006c\u0079\u0069\u006e\u0067\u0020\u0077\u0072i\u0074\u0065\u0072\u0020\u0066\u0061\u0069\u006c\u0020\u0028"+_daa .Error ()+"\u0029",int64 (_eeg )};
};_eeg =_cca ;};_cbf ._dfg +=int64 (_ccf );if _ccf !=_dga {_agae =Error {ErrWrite ,"\u0062\u0079t\u0065\u0073\u0020\u0077\u0072\u0069\u0074\u0074\u0065\u006e\u0020\u0064\u006f\u0020\u006e\u006f\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0077\u0072\u0069\u0074\u0065\u0020\u0073\u0069\u007a\u0065",int64 (_ccf )};
}else if _ccf < len (b ){_agae =_ag .EOF ;};return _ccf ,_agae ;};func _edb (_dfd uint16 ,_gg *File ){_fa (_gg );if _gg ._cd !=_fc {return ;};if _dfd > 3{_gg .Size =int64 (_f .LittleEndian .Uint64 (_gg ._fb [:]));}else {_gg .Size =int64 (_f .LittleEndian .Uint32 (_gg ._fb [:4]));
};};func (_ee *Reader )traverse ()error {_ee .File =make ([]*File ,0,len (_ee ._fga ));var (_cf func (int ,[]string );_ce error ;_cdb int ;);_cf =func (_ggg int ,_ad []string ){_cdb ++;if _cdb > len (_ee ._fga ){_ce =Error {ErrTraverse ,"\u0074\u0072\u0061\u0076\u0065\u0072\u0073\u0061\u006c\u0020\u0063o\u0075\u006e\u0074\u0065\u0072\u0020\u006f\u0076\u0065\u0072f\u006c\u006f\u0077",int64 (_ggg )};
return ;};if _ggg < 0||_ggg >=len (_ee ._fga ){_ce =Error {ErrTraverse ,"\u0069\u006c\u006ceg\u0061\u006c\u0020\u0074\u0072\u0061\u0076\u0065\u0072\u0073\u0061\u006c\u0020\u0069\u006e\u0064\u0065\u0078",int64 (_ggg )};return ;};_gaf :=_ee ._fga [_ggg ];
if _gaf ._fe !=_ccfd {_cf (int (_gaf ._fe ),_ad );};_ee .File =append (_ee .File ,_gaf );_gaf .Path =_ad ;if _gaf ._cbg !=_ccfd {if _ggg > 0{_cf (int (_gaf ._cbg ),append (_ad ,_gaf .Name ));}else {_cf (int (_gaf ._cbg ),_ad );};};if _gaf ._cb !=_ccfd {_cf (int (_gaf ._cb ),_ad );
};return ;};_cf (0,[]string {});return _ce ;};func (_eba *Reader )exportFAT (_bbgc *_bc .Writer ,_cfb []uint32 )error {if _eba ._deec ._fdc ==0{return nil ;};_dgf :=_d .NewBuffer ([]byte {});if _bdfg :=_f .Write (_dgf ,_f .LittleEndian ,_bdc );_bdfg !=nil {return _bdfg ;
};for _gbd :=0;_gbd < len (_cfb )-1;_gbd ++{for _ebeb :=_cfb [_gbd ];_ebeb < _cfb [_gbd +1]-1;_ebeb ++{if _eae :=_f .Write (_dgf ,_f .LittleEndian ,_ebeb );_eae !=nil {return _eae ;};};if _agc :=_f .Write (_dgf ,_f .LittleEndian ,_gcd );_agc !=nil {return _agc ;
};};_abf :=512;for _ ,_cbac :=range _dgf .Bytes (){if _aadf :=_bbgc .WriteByteAt (_cbac ,_abf );_aadf !=nil {return _aadf ;};_abf ++;};return nil ;};func (_fee *Reader )setDirEntries ()error {_gb :=20;if _fee ._deec ._fec > 0{_gb =int (_fee ._deec ._fec );
};_bb :=make ([]*File ,0,_gb );_bbg :=make (map[uint32 ]bool );_dg :=int (_fee ._efeb /_gee );_eb :=_fee ._deec ._ffb ;for _eb !=_gcd {_dc ,_da :=_fee .readAt (_bafa (_fee ._efeb ,_eb ),int (_fee ._efeb ));if _da !=nil {return Error {ErrRead ,"\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020e\u006e\u0074\u0072\u0069\u0065\u0073\u0020r\u0065\u0061\u0064\u0020\u0065\u0072\u0072\u006f\u0072\u0020\u0028"+_da .Error ()+"\u0029",_bafa (_fee ._efeb ,_eb )};
};for _cbc :=0;_cbc < _dg ;_cbc ++{_aa :=&File {_dde :_fee };_aa .directoryEntryFields =_aea (_dc [_cbc *int (_gee ):]);_edb (_fee ._deec ._fedc ,_aa );_aa ._fce =_aa ._cc ;_bb =append (_bb ,_aa );};_gdd ,_da :=_fee .findNext (_eb ,false );if _da !=nil {return Error {ErrRead ,"d\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020\u0065\u006e\u0074\u0072\u0069\u0065\u0073\u0020\u0065r\u0072\u006f\u0072\u0020\u0066\u0069\u006e\u0064\u0069\u006eg \u0073\u0065\u0063t\u006fr\u0020\u0028"+_da .Error ()+"\u0029",int64 (_gdd )};
};if _gdd <=_eb {if _gdd ==_eb ||_bbg [_gdd ]{return Error {ErrRead ,"\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020e\u006e\u0074\u0072\u0069\u0065\u0073\u0020s\u0065\u0063\u0074\u006f\u0072\u0020\u0063\u0079\u0063\u006c\u0065",int64 (_gdd )};
};_bbg [_gdd ]=true ;};_eb =_gdd ;};_fee ._fga =_bb ;return nil ;};const (ErrFormat =iota ;ErrRead ;ErrSeek ;ErrWrite ;ErrTraverse ;);func (_fdce *Reader )ID ()string {return _fdce .File [0].ID ()};func (_fge Error )Error ()string {return "\u006ds\u0063\u0066\u0062\u003a\u0020"+_fge ._bce +"\u003b\u0020"+_ae .FormatInt (_fge ._cde ,10);
};func _fac (_debf *directoryEntryFields )(*_d .Buffer ,error ){_ebc :=_d .NewBuffer ([]byte {});for _ ,_bea :=range _debf ._df {if _gfd :=_f .Write (_ebc ,_f .LittleEndian ,&_bea );_gfd !=nil {return nil ,_gfd ;};};if _afd :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._ac );
_afd !=nil {return nil ,_afd ;};if _adfc :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._cd );_adfc !=nil {return nil ,_adfc ;};if _ceg :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._de );_ceg !=nil {return nil ,_ceg ;};if _cgc :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._fe );
_cgc !=nil {return nil ,_cgc ;};if _ebd :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._cb );_ebd !=nil {return nil ,_ebd ;};if _aebf :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._cbg );_aebf !=nil {return nil ,_aebf ;};if _ffaf :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._gc .DataA );
_ffaf !=nil {return nil ,_ffaf ;};if _gab :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._gc .DataB );_gab !=nil {return nil ,_gab ;};if _deab :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._gc .DataC );_deab !=nil {return nil ,_deab ;};if _ ,_ccb :=_ebc .Write (_debf ._gc .DataD [:]);
_ccb !=nil {return nil ,_ccb ;};if _ ,_bdb :=_ebc .Write (_debf ._ef [:]);_bdb !=nil {return nil ,_bdb ;};if _eed :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._cbb .Low );_eed !=nil {return nil ,_eed ;};if _bbf :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._cbb .High );
_bbf !=nil {return nil ,_bbf ;};if _ddf :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._caf .Low );_ddf !=nil {return nil ,_ddf ;};if _aebd :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._caf .High );_aebd !=nil {return nil ,_aebd ;};if _dfc :=_f .Write (_ebc ,_f .LittleEndian ,&_debf ._cc );
_dfc !=nil {return nil ,_dfc ;};if _ ,_dba :=_ebc .Write (_debf ._fb [:]);_dba !=nil {return nil ,_dba ;};return _ebc ,nil ;};func (_efc *File )findLast (_bbgb bool )(uint32 ,error ){_bdd :=_efc ._cc ;for {_eac ,_deg :=_efc ._dde .findNext (_bdd ,_bbgb );
if _deg !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_deg .Error ()+"\u0029",0};};if _eac ==_gcd {break ;
};_bdd =_eac ;};return _bdd ,nil ;};func (_ddd *File )ensureWriterAt ()error {if _ddd ._dde ._agb ==nil {_fef ,_gde :=_ddd ._dde ._dafe .(_ag .WriterAt );if !_gde {return Error {ErrWrite ,"\u006d\u0073\u0063\u0066\u0062\u002e\u004ee\u0077\u0020\u006d\u0075\u0073\u0074\u0020\u0062\u0065\u0020\u0067\u0069\u0076\u0065n\u0020R\u0065\u0061\u0064\u0065\u0072\u0041t\u0020\u0063\u006f\u006e\u0076\u0065\u0072t\u0069\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0061\u0020\u0069\u006f\u002e\u0057\u0072\u0069\u0074\u0065\u0072\u0041\u0074\u0020\u0069n\u0020\u006f\u0072\u0064\u0065\u0072\u0020\u0074\u006f\u0020\u0077\u0072\u0069t\u0065",0};
};_ddd ._dde ._agb =_fef ;};return nil ;};func (_eg fileInfo )ModTime ()_afe .Time {return _eg .Modified ()};func _fa (_ea *File ){if _ea ._ac < 4||_ea ._ac > 64{return ;};_eaf :=int (_ea ._ac /2-1);_ea .Initial =_ea ._df [0];var _dcc int ;if !_e .IsPrint (rune (_ea .Initial )){_dcc =1;
};_ea .Name =string (_af .Decode (_ea ._df [_dcc :_eaf ]));};func (_aeb *File )Read (b []byte )(int ,error ){if _aeb .Size < 1||_aeb ._dfg >=_aeb .Size {return 0,_ag .EOF ;};_dea :=len (b );if int64 (_dea )> _aeb .Size -_aeb ._dfg {_dea =int (_aeb .Size -_aeb ._dfg );
};_ge ,_db :=_aeb .stream (_dea );if _db !=nil {return 0,_db ;};var _bd ,_cdd int ;for _ ,_fed :=range _ge {_dbf :=_bd +int (_fed [1]);if _dbf < _bd ||_dbf > _dea {return 0,Error {ErrRead ,"\u0062a\u0064 \u0072\u0065\u0061\u0064\u0020\u006c\u0065\u006e\u0067\u0074\u0068",int64 (_dbf )};
};_cbbf ,_aga :=_aeb ._dde ._dafe .ReadAt (b [_bd :_dbf ],_fed [0]);_cdd =_cdd +_cbbf ;if _aga !=nil {_aeb ._dfg +=int64 (_cdd );return _cdd ,Error {ErrRead ,"\u0075n\u0064\u0065\u0072\u006c\u0079\u0069\u006e\u0067\u0020\u0072\u0065a\u0064\u0065\u0072\u0020\u0066\u0061\u0069\u006c\u0020\u0028"+_aga .Error ()+"\u0029",int64 (_bd )};
};_bd =_dbf ;};_aeb ._dfg +=int64 (_cdd );if _cdd !=_dea {_db =Error {ErrRead ,"\u0062\u0079\u0074e\u0073\u0020\u0072\u0065\u0061\u0064\u0020\u0064\u006f\u0020\u006e\u006f\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020r\u0065\u0061\u0064\u0020\u0073\u0069\u007a\u0065",int64 (_cdd )};
}else if _cdd < len (b ){_db =_ag .EOF ;};return _cdd ,_db ;};type headerFields struct{_edea uint64 ;_ [16]byte ;_cga uint16 ;_fedc uint16 ;_ [2]byte ;_fag uint16 ;_ [2]byte ;_ [6]byte ;_fec uint32 ;_fdc uint32 ;_ffb uint32 ;_ [4]byte ;_ [4]byte ;_ege uint32 ;
_gda uint32 ;_cfe uint32 ;_acd uint32 ;_dbfe [109]uint32 ;};func (_bbd fileInfo )Mode ()_dd .FileMode {return _bbd .File .mode ()};func _edg (_dfa [][2]int64 )[][2]int64 {_efgc :=len (_dfa );for _ecg ,_bdae :=0,0;_ecg < _efgc &&_bdae +1< len (_dfa );_ecg ++{if _dfa [_bdae ][0]+_dfa [_bdae ][1]==_dfa [_bdae +1][0]{_dfa [_bdae ][1]=_dfa [_bdae ][1]+_dfa [_bdae +1][1];
for _eag :=range _dfa [_bdae +1:len (_dfa )-1]{_dfa [_bdae +1+_eag ]=_dfa [_eag +_bdae +2];};_dfa =_dfa [:len (_dfa )-1];}else {_bdae +=1;};};return _dfa ;};func (_bef *Reader )GetEntry (entryName string )(*File ,error ){for _dfde ,_cce :=_bef .Next ();
_cce ==nil ;_dfde ,_cce =_bef .Next (){if _dfde .Name ==entryName {return _dfde ,nil ;};};return nil ,Error {ErrTraverse ,"\u004e\u006f\u0020\u0065\u006e\u0074\u0072\u0079\u0020\u0066o\u0075\u006e\u0064\u0020\u0066\u006f\u0072 \u0067\u0069\u0076\u0065\u006e\u0020\u006e\u0061\u006d\u0065\u002e",0};
};func (_ced *Reader )Next ()(*File ,error ){_ced ._dbeb ++;if _ced ._dbeb >=len (_ced .File ){return nil ,_ag .EOF ;};return _ced .File [_ced ._dbeb ],nil ;};const (_bdf uint64 =0xE11AB1A1E011CFD0;_aab uint32 =64;_dbe int64 =4096;_gee uint32 =128;);func (_efe *Reader )readAt (_aagc int64 ,_dfdc int )([]byte ,error ){if _efe ._fea {_cddf ,_afcc :=_efe ._dafe .(slicer ).Slice (_aagc ,_dfdc );
if _afcc !=nil {return nil ,Error {ErrRead ,"\u0073\u006c\u0069\u0063er\u0020\u0072\u0065\u0061\u0064\u0020\u0065\u0072\u0072\u006f\u0072\u0020\u0028"+_afcc .Error ()+"\u0029",_aagc };};return _cddf ,nil ;};if _dfdc > len (_efe ._fgd ){return nil ,Error {ErrRead ,"\u0072\u0065ad\u0020\u006c\u0065n\u0067\u0074\u0068\u0020gre\u0061te\u0072\u0020\u0074\u0068\u0061\u006e\u0020re\u0061\u0064\u0020\u0062\u0075\u0066\u0066e\u0072",int64 (_dfdc )};
};if _ ,_efgbe :=_efe ._dafe .ReadAt (_efe ._fgd [:_dfdc ],_aagc );_efgbe !=nil {return nil ,Error {ErrRead ,_efgbe .Error (),_aagc };};return _efe ._fgd [:_dfdc ],nil ;};func (_acba *Reader )setMiniStream ()error {if _acba ._fga [0]._cc ==_gcd ||_acba ._deec ._ege ==_gcd ||_acba ._deec ._gda ==0{return nil ;
};_daf :=int (_acba ._deec ._gda );_acba ._deec ._aed =make ([]uint32 ,_daf );_acba ._deec ._aed [0]=_acba ._deec ._ege ;for _geg :=1;_geg < _daf ;_geg ++{_aagb ,_bccg :=_acba .findNext (_acba ._deec ._aed [_geg -1],false );if _bccg !=nil {return Error {ErrFormat ,"s\u0065\u0074\u0074\u0069ng\u0020m\u0069\u006e\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u0028"+_bccg .Error ()+"\u0029",int64 (_acba ._deec ._aed [_geg -1])};
};_acba ._deec ._aed [_geg ]=_aagb ;};_daf =int (_acba ._efeb /4*_acba ._deec ._gda );_acba ._deec ._afee =make ([]uint32 ,0,_daf );_ecb :=_acba ._fga [0]._cc ;var _eabfg error ;for _ecb !=_gcd {_acba ._deec ._afee =append (_acba ._deec ._afee ,_ecb );
_ecb ,_eabfg =_acba .findNext (_ecb ,false );if _eabfg !=nil {return Error {ErrFormat ,"s\u0065\u0074\u0074\u0069ng\u0020m\u0069\u006e\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u0028"+_eabfg .Error ()+"\u0029",int64 (_ecb )};};};return nil ;};func (_faf *Reader )setHeader ()error {_acfa ,_gddg :=_faf .readAt (0,_dgd );
if _gddg !=nil {return _gddg ;};_faf ._deec =&header {headerFields :_ddbf (_acfa )};if _faf ._deec ._edea !=_bdf {return Error {ErrFormat ,"\u0062\u0061\u0064\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065",int64 (_faf ._deec ._edea )};};if _faf ._deec ._fag ==0x0009||_faf ._deec ._fag ==0x000c{_faf ._efeb =uint32 (1<<_faf ._deec ._fag );
}else {return Error {ErrFormat ,"\u0069\u006c\u006c\u0065ga\u006c\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0073\u0069\u007a\u0065",int64 (_faf ._deec ._fag )};};if _faf ._deec ._acd > 0{_cfc :=(_faf ._efeb /4)-1;if int (_faf ._deec ._acd *_cfc +109)< 0{return Error {ErrFormat ,"\u0044I\u0046A\u0054\u0020\u0069\u006e\u0074 \u006f\u0076e\u0072\u0066\u006c\u006f\u0077",int64 (_faf ._deec ._acd )};
};if _faf ._deec ._acd *_cfc +109> _faf ._deec ._fdc +_cfc {return Error {ErrFormat ,"\u006e\u0075\u006d\u0020\u0044\u0049\u0046\u0041\u0054\u0073 \u0065\u0078\u0063\u0065\u0065\u0064\u0073 \u0046\u0041\u0054\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0073",int64 (_faf ._deec ._acd )};
};};if _faf ._deec ._gda > 0{if int (_faf ._efeb /4*_faf ._deec ._gda )< 0{return Error {ErrFormat ,"m\u0069\u006e\u0069\u0020FA\u0054 \u0069\u006e\u0074\u0020\u006fv\u0065\u0072\u0066\u006c\u006f\u0077",int64 (_faf ._deec ._gda )};};if _faf ._deec ._gda > _faf ._deec ._fdc *(_faf ._efeb /_aab ){return Error {ErrFormat ,"\u006e\u0075\u006d\u0020\u006d\u0069n\u0069\u0020\u0046\u0041\u0054\u0073\u0020\u0065\u0078\u0063\u0065\u0065\u0064s\u0020\u0046\u0041\u0054\u0020\u0073\u0065c\u0074\u006f\u0072\u0073",int64 (_faf ._deec ._fdc )};
};};return nil ;};func (_eee *Reader )setDifats ()error {_eee ._deec ._adfg =_eee ._deec ._dbfe [:];if _eee ._deec ._acd ==0{return nil ;};_cgef :=(_eee ._efeb /4)-1;_add :=make ([]uint32 ,109,_eee ._deec ._acd *_cgef +109);copy (_add ,_eee ._deec ._adfg );
_eee ._deec ._adfg =_add ;_bdag :=_eee ._deec ._cfe ;for _eebb :=0;_eebb < int (_eee ._deec ._acd );_eebb ++{_bccb ,_ffg :=_eee .readAt (_bafa (_eee ._efeb ,_bdag ),int (_eee ._efeb ));if _ffg !=nil {return Error {ErrFormat ,"e\u0072r\u006f\u0072\u0020\u0073\u0065\u0074\u0074\u0069n\u0067\u0020\u0044\u0049FA\u0054\u0028"+_ffg .Error ()+"\u0029",int64 (_bdag )};
};for _gga :=0;_gga < int (_cgef );_gga ++{_eee ._deec ._adfg =append (_eee ._deec ._adfg ,_f .LittleEndian .Uint32 (_bccb [_gga *4:_gga *4+4]));};_bdag =_f .LittleEndian .Uint32 (_bccb [len (_bccb )-4:]);};return nil ;};func (_eea *Reader )saveToFatLocs (_egfe uint32 ,_ecbd interface{},_dbbf bool )error {_age :=_d .NewBuffer ([]byte {});
if _cggc :=_f .Write (_age ,_f .LittleEndian ,_ecbd );_cggc !=nil {return _cggc ;};_dbd :=_eea .findFatLocsOffset (_dbbf )+int64 (_egfe *4);_ ,_cbcd :=_eea ._agb .WriteAt (_age .Bytes (),_dbd );return _cbcd ;};const (_eaad uint32 =0xFFFFFFFA;_caa uint32 =0xFFFFFFFC;
_bdc uint32 =0xFFFFFFFD;_gcd uint32 =0xFFFFFFFE;_cgd uint32 =0xFFFFFFFF;_bacc byte =0xFF;_cbe uint32 =0xFFFFFFFA;_ccfd uint32 =0xFFFFFFFF;);const (_aba uint8 =0x0;_ed uint8 =0x1;);const _gd int =64+4*4+16+4+8*2+4+8;type slicer interface{Slice (_bcfd int64 ,_beag int )([]byte ,error );
};func (_aff *File )FileInfo ()_dd .FileInfo {return fileInfo {_aff }};func (_eabfb *Reader )getOffset (_dfdf uint32 ,_bdbb bool )(int64 ,error ){if _bdbb {_ggbf :=_eabfb ._efeb /64;_ebe :=int (_dfdf /_ggbf );if _ebe >=len (_eabfb ._deec ._afee ){return 0,Error {ErrRead ,"\u006di\u006e\u0069s\u0065\u0063\u0074o\u0072\u0020\u006e\u0075\u006d\u0062\u0065r\u0020\u0069\u0073\u0020\u006f\u0075t\u0073\u0069\u0064\u0065\u0020\u006d\u0069\u006e\u0069\u0073\u0065c\u0074\u006f\u0072\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_ebe )};
};_deag :=_dfdf %_ggbf ;return int64 ((_eabfb ._deec ._afee [_ebe ]+1)*_eabfb ._efeb +_deag *64),nil ;};return _bafa (_eabfb ._efeb ,_dfdf ),nil ;};func (_deaf *Reader )Export ()([]byte ,error ){_cgg :=_bc .NewWriter ();if _fgb :=_deaf .exportHeader (_cgg );
_fgb !=nil {return nil ,_fgb ;};if _affe :=_cgg .FillWithByte (512,_bacc );_affe !=nil {return nil ,_affe ;};_gdfd :=[]uint32 {};if _dgb :=_deaf .exportDifats (_cgg );_dgb !=nil {return nil ,_dgb ;};_cfg ,_gddd ,_eebg :=_deaf .exportMiniStream ();if _eebg !=nil {return nil ,_eebg ;
};_gdfd =append (_gdfd ,uint32 (_cgg .Len ())/_deaf ._efeb );if _ddbfg :=_deaf .exportDirEntries (_cgg );_ddbfg !=nil {return nil ,_ddbfg ;};_gdfd =append (_gdfd ,uint32 (_cgg .Len ())/_deaf ._efeb );if _ ,_agaed :=_cfg .WriteTo (_cgg );_agaed !=nil {return nil ,_agaed ;
};_gdfd =append (_gdfd ,uint32 (_cgg .Len ())/_deaf ._efeb );if _ ,_bfa :=_gddd .WriteTo (_cgg );_bfa !=nil {return nil ,_bfa ;};_gdfd =append (_gdfd ,uint32 (_cgg .Len ())/_deaf ._efeb );if _dacd :=_deaf .exportFAT (_cgg ,_gdfd );_dacd !=nil {return nil ,_dacd ;
};return _cgg .Bytes (),nil ;};func (_eaca *Reader )exportDirEntries (_dee *_bc .Writer )error {if int64 (_dee .Len ())!=_bafa (_eaca ._efeb ,_eaca ._deec ._ffb ){return Error {ErrWrite ,_b .Sprintf ("I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u0077\u0072\u0069\u0074\u0065\u0072\u0020l\u0065\u006e\u0067t\u0068:\u0020\u0025\u0076",_dee .Len ()),0};
};for _ ,_baf :=range _eaca ._fga {_bfc ,_ggb :=_fac (_baf .directoryEntryFields );if _ggb !=nil {return _ggb ;};if _ ,_bbe :=_ag .Copy (_dee ,_bfc );_bbe !=nil {return _bbe ;};};return nil ;};func (_dgc *File )SetEntryContent (b []byte )error {if _eeb :=_dgc .ensureWriterAt ();
_eeb !=nil {return _eeb ;};_dgc .reset ();if _ebf :=_dgc .changeSize (int64 (len (b )));_ebf !=nil {return _ebf ;};_ ,_abe :=_dgc .Write (b );return _abe ;};func (_afc *File )mode ()_dd .FileMode {if _afc ._cd !=_fc {return _dd .ModeDir |0777;};return 0666;
};func (_dag *File )reset (){_dag ._dfg =0;_dag ._ba =0;_dag ._fce =_dag ._cc };func (_bee *Reader )Modified ()_afe .Time {return _bee .File [0].Modified ()};type File struct{Name string ;Initial uint16 ;Path []string ;Size int64 ;_dfg int64 ;_fce uint32 ;
_ba int64 ;*directoryEntryFields ;_dde *Reader ;};func (_gdg *Reader )exportHeader (_adfd *_bc .Writer )error {if _cbgd :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._edea );_cbgd !=nil {return _cbgd ;};if _aabg :=_adfd .Skip (16);_aabg !=nil {return _aabg ;
};if _bbc :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._cga );_bbc !=nil {return _bbc ;};if _fgf :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._fedc );_fgf !=nil {return _fgf ;};if _bg :=_f .Write (_adfd ,_f .LittleEndian ,uint16 (0xfffe));
_bg !=nil {return _bg ;};if _bgg :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._fag );_bgg !=nil {return _bgg ;};if _ebdb :=_f .Write (_adfd ,_f .LittleEndian ,uint16 (0x0006));_ebdb !=nil {return _ebdb ;};if _cee :=_adfd .Skip (6);_cee !=nil {return _cee ;
};if _fbf :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._fec );_fbf !=nil {return _fbf ;};if _gcb :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._fdc );_gcb !=nil {return _gcb ;};if _afae :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._ffb );
_afae !=nil {return _afae ;};if _deede :=_adfd .Skip (4);_deede !=nil {return _deede ;};if _bcd :=_f .Write (_adfd ,_f .LittleEndian ,uint32 (0x00001000));_bcd !=nil {return _bcd ;};if _cgca :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._ege );_cgca !=nil {return _cgca ;
};if _gff :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._gda );_gff !=nil {return _gff ;};if _efa :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._cfe );_efa !=nil {return _efa ;};if _dbc :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._acd );
_dbc !=nil {return _dbc ;};for _dgae :=0;_dgae < 109;_dgae ++{if _agg :=_f .Write (_adfd ,_f .LittleEndian ,&_gdg ._deec ._dbfe [_dgae ]);_agg !=nil {return _agg ;};};return nil ;};type Error struct{_ddec int ;_bce string ;_cde int64 ;};const _dgd int =8+16+10+6+12+8+16+109*4;
func (_cdg *Reader )Read (b []byte )(_acg int ,_deed error ){if _cdg ._dbeb >=len (_cdg .File ){return 0,_ag .EOF ;};return _cdg .File [_cdg ._dbeb ].Read (b );};func (_ded fileInfo )Name ()string {return _ded .File .Name };func (_gcf *Reader )Debug ()map[string ][]uint32 {_ebdc :=map[string ][]uint32 {"s\u0065\u0063\u0074\u006f\u0072\u0020\u0073\u0069\u007a\u0065":[]uint32 {_gcf ._efeb },"\u006d\u0069\u006e\u0069\u0020\u0066\u0061\u0074\u0020\u006c\u006f\u0063\u0073":_gcf ._deec ._aed ,"\u006d\u0069n\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u006c\u006f\u0063\u0073":_gcf ._deec ._afee ,"\u0064\u0069r\u0065\u0063\u0074o\u0072\u0079\u0020\u0073\u0065\u0063\u0074\u006f\u0072":[]uint32 {_gcf ._deec ._ffb },"\u006d\u0069\u006e\u0069 s\u0074\u0072\u0065\u0061\u006d\u0020\u0073\u0074\u0061\u0072\u0074\u002f\u0073\u0069z\u0065":[]uint32 {_gcf .File [0]._cc ,_f .LittleEndian .Uint32 (_gcf .File [0]._fb [:])}};
for _ffac ,_bcb :=_gcf .Next ();_bcb ==nil ;_ffac ,_bcb =_gcf .Next (){_ebdc [_ffac .Name +" \u0073\u0074\u0061\u0072\u0074\u002f\u0073\u0069\u007a\u0065"]=[]uint32 {_ffac ._cc ,_f .LittleEndian .Uint32 (_ffac ._fb [:])};};return _ebdc ;};const (_ab uint8 =0x0;
_c uint8 =0x1;_fc uint8 =0x2;_ca uint8 =0x5;);func (_dfgd *Reader )exportDifats (_agf *_bc .Writer )error {if _dfgd ._deec ._acd ==0{return nil ;};return nil ;};func New (ra _ag .ReaderAt )(*Reader ,error ){_aagbc :=&Reader {_dafe :ra };if _ ,_dcg :=ra .(slicer );
_dcg {_aagbc ._fea =true ;}else {_aagbc ._fgd =make ([]byte ,_dgd );};if _gadc :=_aagbc .setHeader ();_gadc !=nil {return nil ,_gadc ;};if !_aagbc ._fea &&int (_aagbc ._efeb )> len (_aagbc ._fgd ){_aagbc ._fgd =make ([]byte ,_aagbc ._efeb );};if _dcbe :=_aagbc .setDifats ();
_dcbe !=nil {return nil ,_dcbe ;};if _daag :=_aagbc .setDirEntries ();_daag !=nil {return nil ,_daag ;};if _cfa :=_aagbc .setMiniStream ();_cfa !=nil {return nil ,_cfa ;};if _bbgbd :=_aagbc .traverse ();_bbgbd !=nil {return nil ,_bbgbd ;};return _aagbc ,nil ;
};func (_eda *File )changeSize (_be int64 )error {if _be ==_eda .Size {return nil ;};var _fcg *File ;for _ ,_aec :=range _eda ._dde ._fga {if _aec .Name ==_eda .Name {_fcg =_aec ;break ;};};if _fcg ==nil {return _b .Errorf ("\u004e\u006f\u0020\u0064\u0069\u0072e\u0063\u0074\u006f\u0072\u0079\u0020\u0065\u006e\u0074\u0072\u0079\u0020\u0066o\u0072\u0020\u0061\u0020\u0066\u0069\u006ce\u003a\u0020\u0025\u0073",_eda .Name );
};_afef :=_d .NewBuffer ([]byte {});if _aac :=_f .Write (_afef ,_f .LittleEndian ,_be );_aac !=nil {return _aac ;};for _bad ,_ddg :=range _afef .Bytes (){_fcg ._fb [_bad ]=_ddg ;};var _afa int64 ;var _ede bool ;if _eda .Size < _dbe {_ede =true ;_afa =int64 (_aab );
}else {_afa =int64 (_eda ._dde ._efeb );};_ec :=int ((_eda .Size -1)/_afa )+1;_dab :=int ((_be -1)/_afa )+1;if _ec < _dab {_fg ,_dac :=_eda .findLast (_ede );if _dac !=nil {return _dac ;};_ece ,_dac :=_eda ._dde .findNextFreeSector (_ede );if _dac !=nil {return _dac ;
};for _adf :=_dab -_ec ;_adf > 0;_adf --{if _gdda :=_eda ._dde .saveToFatLocs (_fg ,_ece ,_ede );_gdda !=nil {return _gdda ;};if _adf > 1{_fg =_ece ;_ece ++;}else if _edaa :=_eda ._dde .saveToFatLocs (_ece ,_gcd ,_ede );_edaa !=nil {return _edaa ;};};}else if _ec > _dab {_ff :=_eda ._cc ;
var _afeg error ;for _dge :=0;_dge < _dab -1;_dge ++{_ff ,_afeg =_eda ._dde .findNext (_ff ,_ede );if _afeg !=nil {return _afeg ;};};if _ccaf :=_eda ._dde .saveToFatLocs (_ff ,_gcd ,_ede );_ccaf !=nil {return _ccaf ;};};_eda .Size =_be ;return nil ;};func (_aacc *Reader )findFatLocsOffset (_caag bool )int64 {var _fbdb uint32 ;
if _caag {_fbdb =_aacc ._deec ._aed [0];}else {_fbdb =_aacc ._deec ._adfg [0];};return _bafa (_aacc ._efeb ,_fbdb );};func (_bag *File )ReadAt (p []byte ,off int64 )(_cg int ,_dcb error ){_fbd ,_aag ,_gac :=_bag ._dfg ,_bag ._ba ,_bag ._fce ;_ ,_dcb =_bag .Seek (off ,0);
if _dcb ==nil {_cg ,_dcb =_bag .Read (p );};_bag ._dfg ,_bag ._ba ,_bag ._fce =_fbd ,_aag ,_gac ;return _cg ,_dcb ;};func (_abg fileInfo )Sys ()interface{}{return nil };func (_bgf *Reader )exportMiniStream ()(*_bc .Writer ,*_bc .Writer ,error ){_dcbb ,_ffd :=_bc .NewWriter (),_bc .NewWriter ();
_gfb :=uint32 (0);for _ ,_abef :=range _bgf .File {if _abef .Size ==0{continue ;};_abef .reset ();_abef ._cc =_gfb ;_dabe :=int (_abef .Size )/int (_aab );if int (_abef .Size )%int (_aab )!=0{_dabe ++;};for _eebbg :=1;_eebbg < _dabe ;_eebbg ++{_gfb ++;
if _ggd :=_f .Write (_dcbb ,_f .LittleEndian ,_gfb );_ggd !=nil {return nil ,nil ,_ggd ;};};if _afcd :=_f .Write (_dcbb ,_f .LittleEndian ,_gcd );_afcd !=nil {return nil ,nil ,_afcd ;};_gfb ++;if _ ,_fca :=_ag .Copy (_ffd ,_abef );_fca !=nil {return nil ,nil ,_fca ;
};if _gadaf :=_ffd .AlignLength (64);_gadaf !=nil {return nil ,nil ,_gadaf ;};};if _cada :=_dcbb .FillWithByte (int (_bgf ._efeb )-_dcbb .Len (),_bacc );_cada !=nil {return nil ,nil ,_cada ;};if _dbbc :=_ffd .AlignLength (int (_bgf ._efeb ));_dbbc !=nil {return nil ,nil ,_dbbc ;
};return _dcbb ,_ffd ,nil ;};type fileInfo struct{*File };func (_bba fileInfo )IsDir ()bool {return _bba .mode ().IsDir ()};func (_cdda *File )WriteAt (p []byte ,off int64 )(_cge int ,_egd error ){_acc ,_eebd ,_bf :=_cdda ._dfg ,_cdda ._ba ,_cdda ._fce ;
_ ,_egd =_cdda .Seek (off ,0);if _egd ==nil {_cge ,_egd =_cdda .Write (p );};_cdda ._dfg ,_cdda ._ba ,_cdda ._fce =_acc ,_eebd ,_bf ;return _cge ,_egd ;};